<div [formGroup]="form()">
  <h5 class="fw-bold border-bottom pb-2 mb-3">Datos Generales</h5>
  <div class="row g-3">

    @if ((config().showCliente ?? true)) {
      <div class="col-md-6">
        <label class="form-label" for="clientName">Cliente</label>
        <select id="clientName" class="form-select" formControlName="clientName"
                [disabled]="loadingClients"
                [class.is-invalid]="(submitted() || f['clientName'].touched) && f['clientName'].invalid">
          <option [ngValue]="null">Seleccione un cliente</option>
          @for (c of clients; track c.id) {
            <option [ngValue]="c.id">{{ c.name }}</option>
          }
        </select>
      </div>
    }

    @if ((config().showIntermediario ?? true)) {
      <div class="col-md-6">
        <label class="form-label" for="intermediary">Intermediario</label>
        <select id="intermediary" class="form-select" formControlName="intermediary"
                [disabled]="loadingIntermediarios"
                [class.is-invalid]="(submitted() || f['intermediary'].touched) && f['intermediary'].invalid">
          <option [ngValue]="null">Seleccione un intermediario</option>
          @for (i of intermediarios; track i.id) {
            <option [ngValue]="i.id">{{ i.name }}</option>
          }
        </select>
      </div>
    }

    @if ((config().showMoneda ?? true)) {
      <div class="col-md-6">
        <label class="form-label" for="currency">Moneda</label>
        <select id="currency" class="form-select" formControlName="currency"
                [class.is-invalid]="(submitted() || f['currency'].touched) && f['currency'].invalid">
          <option value="">Seleccione la moneda</option>
          <option value="dop">DOP</option>
          <option value="usd">USD</option>
        </select>
      </div>
    }

    @if ((config().showFormaPago ?? true)) {
      <div class="col-md-6">
        <label class="form-label" for="paymentMethod">Forma de Pago</label>
        <select id="paymentMethod" class="form-select" formControlName="formaPago"
                [class.is-invalid]="(submitted() || f['paymentMethod'].touched) && f['paymentMethod'].invalid">
          <option value="">Seleccione la forma de pago</option>
          <option value="anual">Anual</option>
          <option value="mensual">Mensual</option>
          <option value="trimestral">Trimestral</option>
        </select>
      </div>
    }

    @if ((config().showDocumento ?? true)) {
      <div class="col-md-6">
        <label class="form-label" for="documento">
          {{ (config().docType ?? 'cedula') === 'cedula' ? 'No. CÃ©dula' : 'RNC' }}
        </label>
        <input id="identification" class="form-control" formControlName="identification" type="text"
               [placeholder]="(config().docType ?? 'identification') === 'cedula' ? '000-0000000-0' : '#########'"
               [class.is-invalid]="(submitted() || f['identification'].touched) && f['identification'].invalid"/>
      </div>
    }

    @if ((config().showFecha ?? true)) {
      <div class="col-md-6">
        <label class="form-label" for="date">Fecha</label>
        <input id="date" class="form-control" formControlName="date" type="date"
               [class.is-invalid]="(submitted() || f['date'].touched) && f['date'].invalid"/>
      </div>
    }

    @if ((config().showFechaNacimiento ?? true)) {
      <div class="col-md-6">
        <label class="form-label" for="dateBirth">Fecha de Nacimiento</label>
        <input id="dateBirth" class="form-control" formControlName="fechaNacimiento" type="date"
               [class.is-invalid]="(submitted() || f['dateBirth'].touched) && f['dateBirth'].invalid"/>
      </div>
      <div class="col-md-6">
        <label class="form-label" for="age">Edad</label>
        <input id="age" class="form-control" formControlName="age" type="number" min="0" readonly />
      </div>
    }
  </div>
</div>
